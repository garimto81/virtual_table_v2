# 다음 개발 작업 목록 (Next Development Tasks)

## 🚨 **1단계: 긴급 데이터 문제 해결 (최우선)**

### 🔍 **Task 1.1: Apps Script 원시 응답 데이터 분석**
**목표**: Apps Script에서 실제로 어떤 데이터를 보내는지 정확히 파악

**작업 내용**:
- [ ] `GoogleSheetsService.js`에 상세 응답 로깅 추가
- [ ] `response.data` 전체 구조 console.log로 출력
- [ ] 111자 데이터가 정확히 무엇인지 확인
- [ ] JSON 파싱 과정에서 오류 여부 확인

**예상 시간**: 30분
**우선순위**: 🔥 최고

---

### 🔍 **Task 1.2: Type 시트 실제 데이터 존재 여부 확인**
**목표**: Google Sheets에서 Type 시트에 실제 포커 테이블 데이터가 있는지 확인

**작업 내용**:
- [ ] Google Sheets 직접 접근하여 Type 시트 확인
- [ ] A2:H 범위에 실제 데이터 행이 있는지 검증
- [ ] 헤더 구조가 예상한 8컬럼 형태인지 확인
- [ ] 만약 데이터가 없다면 테스트 데이터 수동 입력

**예상 시간**: 15분
**우선순위**: 🔥 최고

---

### 🐛 **Task 1.3: SheetDataMapper 디버깅 강화**
**목표**: 데이터 변환 과정에서 문제점 식별 및 해결

**작업 내용**:
- [ ] `fromTypeSheet()` 함수에 상세 로깅 추가
- [ ] 입력 파라미터 `rows` 배열 내용 출력
- [ ] 각 변환 단계별 중간 결과 로깅
- [ ] 빈 배열이 반환되는 정확한 조건 파악
- [ ] 예외 처리 강화

**예상 시간**: 45분
**우선순위**: 🔥 최고

---

## 🧪 **2단계: 테스트 데이터 검증**

### 📝 **Task 2.1: 테스트 데이터 생성 및 입력**
**목표**: 확실한 테스트 데이터로 전체 시스템 검증

**작업 내용**:
- [ ] Type 시트에 샘플 포커 테이블 데이터 직접 입력
- [ ] 8컬럼 구조에 맞는 실제 데이터 작성
  ```
  PokerRoom | TableName | TableNo | PlayerName | SeatNo | CurrentChips | Nationality | IsKeyPlayer
  GGPoker   | NL25     | 1       | Player1    | 1      | 2500        | KR          | TRUE
  ```
- [ ] 최소 3-5개 테이블, 각각 2-3명 플레이어 데이터 추가

**예상 시간**: 20분
**우선순위**: 🟡 높음

---

### 🔄 **Task 2.2: 실제 데이터 로딩 테스트**
**목표**: 테스트 데이터로 전체 플로우 검증

**작업 내용**:
- [ ] `/api/sheets/read` 호출하여 데이터 정상 반환 확인
- [ ] 브라우저에서 "🔄 시트 로드" 버튼 테스트
- [ ] 데이터가 올바른 v2 형식으로 변환되는지 확인
- [ ] UI에서 테이블과 플레이어 정보가 정상 표시되는지 검증

**예상 시간**: 30분
**우선순위**: 🟡 높음

---

## 🔧 **3단계: 시스템 안정화 및 개선**

### 🛡️ **Task 3.1: 에러 핸들링 강화**
**목표**: 다양한 에러 상황에 대한 안정적인 처리

**작업 내용**:
- [ ] 시트가 비어있을 때 적절한 메시지 표시
- [ ] 네트워크 오류 시 재시도 로직 구현
- [ ] 부분적 데이터 손실 시 복구 메커니즘 추가
- [ ] 사용자 친화적인 에러 메시지 개선

**예상 시간**: 1시간
**우선순위**: 🟢 보통

---

### 📊 **Task 3.2: 실시간 데이터 모니터링 개선**
**목표**: 데이터 변경 감지 및 실시간 업데이트 최적화

**작업 내용**:
- [ ] WebSocket 연결 안정성 개선
- [ ] 데이터 변경 감지 알고리즘 최적화
- [ ] 대용량 데이터 처리 성능 개선
- [ ] 캐시 무효화 전략 개선

**예상 시간**: 1.5시간
**우선순위**: 🟢 보통

---

## 🎨 **4단계: UI/UX 개선**

### 🖥️ **Task 4.1: 데이터 표시 UI 개선**
**목표**: 사용자가 포커 테이블 데이터를 쉽게 확인할 수 있도록 개선

**작업 내용**:
- [ ] 테이블별 플레이어 목록 그룹화 표시
- [ ] 키 플레이어 하이라이팅
- [ ] 국가별 필터링 기능
- [ ] 칩 보유량 기준 정렬 기능
- [ ] 반응형 디자인 적용

**예상 시간**: 2시간
**우선순위**: 🔵 낮음

---

### 📱 **Task 4.2: 모바일 최적화**
**목표**: 모바일 환경에서도 원활한 사용 가능

**작업 내용**:
- [ ] 모바일 레이아웃 최적화
- [ ] 터치 인터페이스 개선
- [ ] 데이터 로딩 성능 최적화
- [ ] 오프라인 모드 지원

**예상 시간**: 3시간
**우선순위**: 🔵 낮음

---

## ⚡ **즉시 실행 권장 작업**

### 🏃‍♂️ **지금 바로 시작할 작업들**

1. **Apps Script 응답 로깅 추가** (5분)
   ```javascript
   console.log('📊 Apps Script 원시 응답:', JSON.stringify(response.data, null, 2));
   ```

2. **Google Sheets 직접 확인** (5분)
   - 브라우저에서 스프레드시트 접근
   - Type 시트의 A2:H 범위 데이터 확인

3. **SheetDataMapper 디버깅 로그 추가** (10분)
   ```javascript
   console.log('🔄 변환 입력:', rows);
   console.log('🎯 변환 결과:', result);
   ```

---

## 📋 **작업 진행 체크리스트**

### **오늘 완료 목표**
- [ ] Apps Script 원시 데이터 분석 완료
- [ ] Type 시트 실제 데이터 상태 파악
- [ ] SheetDataMapper 디버깅 완료
- [ ] 테스트 데이터로 1회 이상 성공적인 데이터 로딩

### **이번 주 완료 목표**
- [ ] 안정적인 실시간 데이터 로딩 시스템 구축
- [ ] 에러 핸들링 강화
- [ ] 기본적인 UI 개선

### **다음 주 완료 목표**
- [ ] 고급 기능 (필터링, 정렬) 구현
- [ ] 모바일 최적화
- [ ] 성능 최적화

---

## 📞 **문제 발생 시 체크 포인트**

1. **Apps Script 응답이 여전히 빈 데이터인 경우**:
   - Google Sheets 권한 확인
   - Apps Script 배포 상태 확인
   - SPREADSHEET_ID 정확성 재검증

2. **SheetDataMapper 변환 실패**:
   - 입력 데이터 형식 확인
   - 8컬럼 구조 매칭 여부 확인
   - null/undefined 값 처리 로직 검토

3. **네트워크 연결 문제**:
   - CORS 정책 재확인
   - Apps Script URL 유효성 검증
   - 타임아웃 설정 적절성 확인

---

**📅 작성일**: 2025-09-25
**🔄 마지막 업데이트**: 2025-09-25 23:10
**👨‍💻 작성자**: Claude AI Assistant